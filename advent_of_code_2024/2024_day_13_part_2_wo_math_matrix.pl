$\=$/; $/=$/.$/;
print "Answer: ".eval join '+', map {
    my($ax,$ay,$bx,$by,$cx,$cy) = /\d+/g;
    $_ += 10000000000000 for $cx, $cy;

    my $b = ($cy-$ay*$cx/$ax)/($by-$ay*$bx/$ax);
    my $a = ($cx-$bx*$b)/$ax;

    s/\d+\.(0|9)\1{8}.*/int$&+.1/e for $a, $b; #fix .000001 | .999999
    print "a: $a   b: $b";
    "$a$b"!~/\./  ?  $a*3 + $b*1  :  0   #sum kun for ints
}<>
    
# Answer: 104140871044942

__END__

Button A: X+99, Y+37
Button B: X+18, Y+26
Prize: X=9441, Y=5051

99a + 18b = 9441
37a + 26b = 5051

99a = 9441 - 18b
a   = (9441 - 18b)/99

37*(9441 - 18b)/99 + 26b = 5051

37/99 * (9441 - 18b) + 26b = 5051

37*9441/99 - (37*18/99)b + 26b = 5051

(26-37*18/99)b = 5051-37*9441/99
b = (5051-37*9441/99)/(26-37*18/99)

$b = ($cy-$ay*$cx/$ax)/($by-$ay*$bx/$ax)
$a = ($cx-$bx*$b)/$ax

  a: 41928721255.0042   b: 324947589177.533
