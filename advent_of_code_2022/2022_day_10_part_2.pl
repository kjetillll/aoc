my($c,$x) = (0,1);
for(map{/noop/?$_:('noop',$_)}<>){
    my $pos = $c++ % 40;
    print $x-1 <= $pos && $pos <= $x+1 ? '#' : '.';
    print $c % 40 ? "" : "\n";
    $x += $1 if /addx (\S+)/;
}

__END__

Answer:
###..####.#..#.####..##....##..##..###..
#..#....#.#..#.#....#..#....#.#..#.#..#.
#..#...#..####.###..#.......#.#....###..
###...#...#..#.#....#.##....#.#....#..#.
#.#..#....#..#.#....#..#.#..#.#..#.#..#.
#..#.####.#..#.#.....###..##...##..###..

Answer: RZHFGJCB
